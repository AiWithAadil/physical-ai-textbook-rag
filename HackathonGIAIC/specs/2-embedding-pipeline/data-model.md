# Data Model: Embedding Pipeline

## Document Chunk Entity

**Description**: Represents a segment of text extracted from a Docusaurus page

**Fields**:
- `id` (string): Unique identifier for the chunk
- `content` (string): The actual text content of the chunk
- `source_url` (string): The URL from which the content was extracted
- `title` (string): The title of the page from which content was extracted
- `position` (integer): The position of this chunk within the original document
- `created_at` (datetime): Timestamp when the chunk was created
- `embedding` (vector): The vector representation of the content (generated by Cohere)

**Validation rules**:
- `content` must not be empty
- `source_url` must be a valid URL
- `position` must be non-negative

## Qdrant Point Structure

**Description**: The structure used when storing embeddings in Qdrant

**Fields**:
- `id` (string): Unique identifier for the point in Qdrant
- `vector` (list[float]): The embedding vector from Cohere
- `payload` (dict): Metadata associated with the vector
  - `content` (string): The original text content
  - `source_url` (string): The URL from which the content was extracted
  - `title` (string): The page title
  - `position` (integer): Position in the original document

## Crawl Result Entity

**Description**: Information about the crawling process

**Fields**:
- `id` (string): Unique identifier for the crawl session
- `start_url` (string): The URL where crawling began
- `urls_crawled` (list[string]): List of URLs that were successfully crawled
- `urls_failed` (list[string]): List of URLs that failed during crawling
- `total_chunks` (integer): Number of text chunks extracted
- `crawl_timestamp` (datetime): When the crawl was initiated
- `status` (string): Status of the crawl (completed, failed, partial)

## Embedding Result Entity

**Description**: Result of the embedding generation process

**Fields**:
- `chunk_id` (string): Reference to the document chunk
- `embedding_vector` (list[float]): The generated embedding vector
- `embedding_model` (string): The model used for embedding (Cohere model name)
- `generation_timestamp` (datetime): When the embedding was generated
- `status` (string): Status of the embedding generation (success, failed)

## Collection Configuration

**Description**: Configuration for the Qdrant collection

**Parameters**:
- `collection_name`: "rag_embedding" (as specified by user)
- `vector_size`: 1024 (for Cohere embeddings)
- `distance`: "Cosine" (for semantic similarity)
- `optimizers_config`: Default Qdrant optimizers